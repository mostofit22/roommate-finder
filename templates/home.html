{% extends "base.html" %}

{% block title %}Home{% endblock %}

{% block content %}
<!-- ============================================== -->
<!-- HERO SECTION -->
<!-- ============================================== -->
<section class="relative bg-gradient-to-br from-primary-600 via-primary-700 to-primary-900 overflow-hidden">
    <!-- Background Pattern -->
    <div class="absolute inset-0 opacity-10">
        <svg class="w-full h-full" viewBox="0 0 100 100" preserveAspectRatio="none">
            <defs>
                <pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse">
                    <path d="M 10 0 L 0 0 0 10" fill="none" stroke="white" stroke-width="0.5"/>
                </pattern>
            </defs>
            <rect width="100" height="100" fill="url(#grid)"/>
        </svg>
    </div>
    
    <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 md:py-32">
        <div class="text-center">
            <!-- Main Headline -->
            <h1 class="text-4xl md:text-5xl lg:text-6xl font-extrabold text-white mb-6 fade-in">
                Find Your Perfect
                <span class="block text-primary-200">Roommate & Home</span>
            </h1>
            
            <!-- Subheadline -->
            <p class="text-xl md:text-2xl text-primary-100 max-w-3xl mx-auto mb-10 fade-in">
                Connect with compatible roommates and discover amazing living spaces. 
                Our smart matching system makes finding your ideal home effortless.
            </p>
            
            <!-- CTA Buttons -->
            <div class="flex flex-col sm:flex-row justify-center gap-4 fade-in">
                <a href="{{ url_for('browse_roommates') }}" class="inline-flex items-center justify-center px-8 py-4 bg-white text-primary-700 font-semibold rounded-xl hover:bg-gray-100 transition-all shadow-lg hover:shadow-xl hover:-translate-y-1">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                    </svg>
                    Find Roommates
                </a>
                <a href="{{ url_for('browse_listings') }}" class="inline-flex items-center justify-center px-8 py-4 bg-primary-500 text-white font-semibold rounded-xl hover:bg-primary-400 transition-all border-2 border-white/30 hover:-translate-y-1">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                    </svg>
                    Browse Listings
                </a>
                {% if not current_user %}
                <a href="{{ url_for('register') }}" class="inline-flex items-center justify-center px-8 py-4 bg-accent-500 text-white font-semibold rounded-xl hover:bg-accent-600 transition-all shadow-lg hover:shadow-xl hover:-translate-y-1">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"></path>
                    </svg>
                    Get Started Free
                </a>
                {% endif %}
            </div>
        </div>
    </div>
    
    <!-- Wave Divider -->
    <div class="absolute bottom-0 left-0 right-0">
        <svg viewBox="0 0 1440 120" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0 120L60 105C120 90 240 60 360 45C480 30 600 30 720 37.5C840 45 960 60 1080 67.5C1200 75 1320 75 1380 75L1440 75V120H1380C1320 120 1200 120 1080 120C960 120 840 120 720 120C600 120 480 120 360 120C240 120 120 120 60 120H0Z" fill="#F9FAFB"/>
        </svg>
    </div>
</section>

<!-- ============================================== -->
<!-- FEATURES SECTION -->
<!-- ============================================== -->
<section class="py-20 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">
                How It Works
            </h2>
            <p class="text-xl text-gray-600 max-w-2xl mx-auto">
                Finding your perfect roommate has never been easier. Follow these simple steps.
            </p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <!-- Feature 1 -->
            <div class="bg-white p-8 rounded-2xl shadow-sm hover:shadow-lg transition-shadow hover-lift">
                <div class="w-14 h-14 bg-primary-100 rounded-xl flex items-center justify-center mb-6">
                    <svg class="w-7 h-7 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                    </svg>
                </div>
                <h3 class="text-xl font-bold text-gray-900 mb-3">Create Your Profile</h3>
                <p class="text-gray-600">
                    Sign up and tell us about yourself - your budget, preferred locations, and lifestyle preferences.
                </p>
            </div>
            
            <!-- Feature 2 -->
            <div class="bg-white p-8 rounded-2xl shadow-sm hover:shadow-lg transition-shadow hover-lift">
                <div class="w-14 h-14 bg-accent-100 rounded-xl flex items-center justify-center mb-6">
                    <svg class="w-7 h-7 text-accent-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                    </svg>
                </div>
                <h3 class="text-xl font-bold text-gray-900 mb-3">Browse & Match</h3>
                <p class="text-gray-600">
                    Explore roommates and listings. Our smart algorithm calculates compatibility scores for you.
                </p>
            </div>
            
            <!-- Feature 3 -->
            <div class="bg-white p-8 rounded-2xl shadow-sm hover:shadow-lg transition-shadow hover-lift">
                <div class="w-14 h-14 bg-green-100 rounded-xl flex items-center justify-center mb-6">
                    <svg class="w-7 h-7 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                    </svg>
                </div>
                <h3 class="text-xl font-bold text-gray-900 mb-3">Find Your Home</h3>
                <p class="text-gray-600">
                    Connect with compatible roommates and find the perfect living space that fits your needs.
                </p>
            </div>
        </div>
    </div>
</section>

<!-- ============================================== -->
<!-- FEATURED LISTINGS SECTION -->
<!-- ============================================== -->
{% if listings %}
<section class="py-20 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center mb-12">
            <div>
                <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-2">
                    Featured Listings
                </h2>
                <p class="text-gray-600">
                    Discover the latest available rooms and flats
                </p>
            </div>
            <a href="{{ url_for('browse_listings') }}" class="hidden md:inline-flex items-center text-primary-600 font-semibold hover:text-primary-700">
                View All
                <svg class="w-5 h-5 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                </svg>
            </a>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            {% for listing in listings %}
            <a href="{{ url_for('view_listing', listing_id=listing.id) }}" class="group">
                <div class="bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300 card-hover border border-gray-100">
                    <!-- Image -->
                    <div class="relative h-48 bg-gradient-to-br from-primary-100 to-primary-200 overflow-hidden">
                        {% if listing.image1 and listing.image1 != 'default_listing.jpg' %}
                            <img src="{{ url_for('static', filename='uploads/' + listing.image1) }}" alt="{{ listing.title }}" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300">
                        {% else %}
                            <div class="w-full h-full flex items-center justify-center">
                                <svg class="w-16 h-16 text-primary-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                                </svg>
                            </div>
                        {% endif %}
                        
                        <!-- Room Type Badge -->
                        <div class="absolute top-3 left-3">
                            <span class="px-3 py-1 bg-white/90 backdrop-blur-sm text-gray-700 text-sm font-medium rounded-full">
                                {{ listing.room_type }}
                            </span>
                        </div>
                    </div>
                    
                    <!-- Content -->
                    <div class="p-5">
                        <div class="flex items-start justify-between mb-2">
                            <h3 class="text-lg font-bold text-gray-900 group-hover:text-primary-600 transition-colors line-clamp-1">
                                {{ listing.title }}
                            </h3>
                        </div>
                        
                        <div class="flex items-center text-gray-500 mb-3">
                            <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                            </svg>
                            <span class="text-sm">{{ listing.location }}</span>
                        </div>
                        
                        <p class="text-gray-600 text-sm line-clamp-2 mb-4">
                            {{ listing.description[:100] }}{% if listing.description|length > 100 %}...{% endif %}
                        </p>
                        
                        <div class="flex items-center justify-between pt-4 border-t border-gray-100">
                            <span class="text-2xl font-bold text-primary-600">
                                &#8377;{{ "{:,}".format(listing.rent) }}
                                <span class="text-sm font-normal text-gray-500">/month</span>
                            </span>
                        </div>
                    </div>
                </div>
            </a>
            {% endfor %}
        </div>
        
        <div class="text-center mt-10 md:hidden">
            <a href="{{ url_for('browse_listings') }}" class="inline-flex items-center px-6 py-3 bg-primary-500 text-white font-semibold rounded-xl hover:bg-primary-600 transition-colors">
                View All Listings
                <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                </svg>
            </a>
        </div>
    </div>
</section>
{% endif %}

<!-- ============================================== -->
<!-- STATS SECTION -->
<!-- ============================================== -->
<section class="py-16 bg-gradient-to-r from-primary-600 to-primary-800">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
            <div>
                <div class="text-4xl md:text-5xl font-bold text-white mb-2">500+</div>
                <div class="text-primary-200">Happy Roommates</div>
            </div>
            <div>
                <div class="text-4xl md:text-5xl font-bold text-white mb-2">200+</div>
                <div class="text-primary-200">Active Listings</div>
            </div>
            <div>
                <div class="text-4xl md:text-5xl font-bold text-white mb-2">50+</div>
                <div class="text-primary-200">Cities Covered</div>
            </div>
            <div>
                <div class="text-4xl md:text-5xl font-bold text-white mb-2">98%</div>
                <div class="text-primary-200">Match Rate</div>
            </div>
        </div>
    </div>
</section>

<!-- ============================================== -->
<!-- CTA SECTION -->
<!-- ============================================== -->
<section class="py-20 bg-gray-50">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-6">
            Ready to Find Your Perfect Match?
        </h2>
        <p class="text-xl text-gray-600 mb-10">
            Join thousands of people who have found their ideal roommates and living spaces through RoomieMatch.
        </p>
        
        {% if current_user %}
        <a href="{{ url_for('post_listing') }}" class="inline-flex items-center px-8 py-4 bg-gradient-to-r from-primary-500 to-primary-600 text-white font-semibold rounded-xl hover:from-primary-600 hover:to-primary-700 transition-all shadow-lg hover:shadow-xl hover:-translate-y-1">
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
            </svg>
            Post Your Listing
        </a>
        {% else %}
        <a href="{{ url_for('register') }}" class="inline-flex items-center px-8 py-4 bg-gradient-to-r from-primary-500 to-primary-600 text-white font-semibold rounded-xl hover:from-primary-600 hover:to-primary-700 transition-all shadow-lg hover:shadow-xl hover:-translate-y-1">
            Get Started Free
            <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
            </svg>
        </a>
        {% endif %}
    </div>
</section>
{% endblock %}
